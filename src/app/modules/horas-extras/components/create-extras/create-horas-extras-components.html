<div class="flex flex-col items-center justify-center w-full !p-4 bg-gray-100">
  <form
    (ngSubmit)="onSubmit()"
    class="bg-[#fff] rounded-xl shadow-md w-4xl !px-8 !py-6 flex flex-col justify-center items-center overflow-y-auto"
  >
    <h2 class="font-bold text-2xl text-[#002d72] !mb-6">Registrar Horas Extras</h2>

    <div class="w-full !mb-6">
      <label for="funcionario" class="block text-gray-700 text-sm font-semibold !mb-2"
        >Funcionario</label
      >
      <select
        id="funcionario"
        name="funcionario"
        [(ngModel)]="nuevaHoraExtra.FuncionarioAsignado"
        required
        class="w-full !px-3 !py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
      >
        <option value="" disabled selected>Seleccione un funcionario</option>
        <option *ngFor="let f of funcionarios" [value]="f._id">
          {{ f.nombre_completo }} 
        </option>
      </select>
    </div>

    <h3 class="w-full text-left !mb-4 font-semibold text-lg text-blue-900">Horario de Trabajo</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full">
      <div class="form-group">
        <label for="fecha_inicio_trabajo">Fecha de Inicio</label>
        <input
          type="date"
          id="fecha_inicio_trabajo"
          name="fecha_inicio_trabajo"
          [(ngModel)]="nuevaHoraExtra.fecha_inicio_trabajo"
          required
        />
      </div>
      <div class="form-group">
        <label for="hora_inicio_trabajo">Hora de Inicio</label>
        <input
          type="time"
          id="hora_inicio_trabajo"
          name="hora_inicio_trabajo"
          [(ngModel)]="nuevaHoraExtra.hora_inicio_trabajo"
          required
        />
      </div>
      <div class="form-group">
        <label for="fecha_fin_trabajo">Fecha de Fin</label>
        <input
          type="date"
          id="fecha_fin_trabajo"
          name="fecha_fin_trabajo"
          [(ngModel)]="nuevaHoraExtra.fecha_fin_trabajo"
          required
        />
      </div>
      <div class="form-group">
        <label for="hora_fin_trabajo">Hora de Fin</label>
        <input
          type="time"
          id="hora_fin_trabajo"
          name="hora_fin_trabajo"
          [(ngModel)]="nuevaHoraExtra.hora_fin_trabajo"
          required
        />
      </div>
      <div class="form-group">
        <label class="inline-label ">
          Fecha de inicio es festivo
          <input
            type="checkbox"
            [(ngModel)]="nuevaHoraExtra.es_festivo_Inicio"
            name="es_festivo_Inicio"
          />
        </label>
      </div>
      <div class="form-group">
        <label class="inline-label">
          Fecha de fin es festivo
          <input
            type="checkbox"
            [(ngModel)]="nuevaHoraExtra.es_festivo_Fin"
            name="es_festivo_Fin"
          />
        </label>
      </div>
    </div>
    <h3 class="w-full text-left !mt-8 !mb-4 font-semibold text-lg text-[#002d72]">
      Horario de Descanso
    </h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full">
      <div class="form-group">
        <label for="fecha_inicio_descanso">Fecha de Inicio Descanso</label>
        <input
          type="date"
          id="fecha_inicio_descanso"
          name="fecha_inicio_descanso"
          [(ngModel)]="nuevaHoraExtra.fecha_inicio_descanso"
          required
        />
      </div>
      <div class="form-group">
        <label for="hora_inicio_descanso">Hora de Inicio Descanso</label>
        <input
          type="time"
          id="hora_inicio_descanso"
          name="hora_inicio_descanso"
          [(ngModel)]="nuevaHoraExtra.hora_inicio_descanso"
          required
        />
      </div>
      <div class="form-group">
        <label for="fecha_fin_descanso">Fecha de Fin Descanso</label>
        <input
          type="date"
          id="fecha_fin_descanso"
          name="fecha_fin_descanso"
          [(ngModel)]="nuevaHoraExtra.fecha_fin_descanso"
          required
        />
      </div>
      <div class="form-group">
        <label for="hora_fin_descanso">Hora de Fin Descanso</label>
        <input
          type="time"
          id="hora_fin_descanso"
          name="hora_fin_descanso"
          [(ngModel)]="nuevaHoraExtra.hora_fin_descanso"
          required
        />
      </div>
    </div>

    <button
      type="submit"
      class="!mt-8 !px-6 !py-3 bg-[#002d72] hover:bg-blue-800 text-white font-semibold rounded-lg shadow-md flex items-center transition duration-300 ease-in-out"
    >
      <mat-icon class="mr-2">add</mat-icon> Crear Registro
    </button>
  </form>

  <div
    *ngIf="apiMessage"
    class="!mt-6 !px-4 !py-3 rounded-lg shadow-sm text-center"
    [ngClass]="{
      'bg-green-100 border border-green-400 text-green-700': apiSuccess,
      'bg-red-100 border border-red-400 text-red-700': !apiSuccess
    }"
  >
    {{ apiMessage }}
  </div>
</div>
